
<title>Update Profile</title>
<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!------ Include the above in your HEAD tag ---------->

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css">
<form (ngSubmit)="updateprofile(f)" #f=ngForm class="form-inlin justify-content-center">
        <div class="col-sm-4 col-sm-offset-4">
        <h1 style="text-align:center">Update Profile</h1>
      
      
          <label for="username">User Name</label>
          <input type="text" #username=ngModel ngModel name="username" class="form-control" disabled>
            <br>
      
          <label for="name">Name</label>
          <input type="text" #name=ngModel ngModel name="name" class="form-control">
            <br>
      
          <label for="password">Password</label>
          <input type="password" #password=ngModel ngModel name="password" class="form-control">
            <br>   
            
          <label for="mobileno">Mobile No</label>
          <input type="tel" #mobileno=ngModel ngModel name="mobileno" class="form-control" pattern="^\d{10}$"> 
          <div *ngIf="mobileno.errors?.pattern" style="color: red">
            Mobile No is not valid.
         </div> 
          <br>   
      
          <label for="address">Address</label>
          <input type="text" #address=ngModel ngModel name="address" class="form-control">
           <br>
      
           <label for="emailid">Email Id</label>
           <input type="email" #emailid=ngModel ngModel email name="emailid" class="form-control">
           <div *ngIf=!emailid.valid style="color: red">
            Email id is not valid
          </div>
          <br>
           
           <label for="subscriptions">Subscriptions</label>
           <input type="text" #subscriptions=ngModel ngModel name="subscriptions" class="form-control">
            <br>
      
           <label for="familyinfo" >Do you wish to add family members?</label>
           <div class="custom-control custom-radio">  
                <input type="radio" name="answer" value="Yes" (click)="setradio('Yes')" ngModel class="form-check-input"> Yes 
                <br>
                <input type="radio" name="answer" value="no" (click)="setradio('No')" ngModel class="form-check-input"> No  
          </div>  
         
          <div *ngIf="isSelected('Yes')"> 
          <div [formGroup]="form">
          <div formArrayName="contacts">
            <div *ngFor="let contact of contactFormGroup.controls; let i = index;">
              <div [formGroupName]="i">
                <br>
                <label for="dependentname">Dependent Name </label>
                <input type="text" formControlName="name"  name="dependentname" required  class="form-control">
                <span class="text-danger" *ngIf="getContactsFormGroup(i).controls['name'].touched && getContactsFormGroup(i).controls['name'].hasError('required')">
                  Name is required! 
                </span>
              <br> 
                <label for="dependentage">Depenedent Age</label>
                <input type="number" formControlName="value" name="dependentage" class="form-control">
                <br>  
               <div class="form-group col-12 text-right">
                    <button class="btn btn-danger" type="button" (click)="removeContact(i)"> Remove </button>
               </div>
          </div>
          <div>
              <button class="btn btn-primary m-1" type="button" (click)="addContact()">Add Dependent</button>
          </div> 	
        </div> 
         <br>
        </div>  
        </div>
        </div>
        <br>   
          <div *ngIf="isSelected('No')">    
         </div>   
          <button class="btn btn-success" [disabled]="!form.valid" type="submit" >Submit</button>
          <br>
        </div>
        </form>
      
      